(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{375:function(a,t,s){"use strict";s.r(t);var e=s(40),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[a._v("#")]),a._v(" Installation")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#installing-spark-via-composer"}},[a._v("Installing Spark Via Composer")])]),s("li",[s("a",{attrs:{href:"#authenticating-spark-in-continuous-integration-ci-environments"}},[a._v("Authenticating Spark in Continuous Integration (CI) Environments")])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"installing-spark-via-composer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-spark-via-composer"}},[a._v("#")]),a._v(" Installing Spark Via Composer")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("License")]),a._v(" "),s("p",[a._v("Before installing Spark, you will need to purchase a "),s("a",{attrs:{href:"https://spark.laravel.com/licenses",target:"_blank",rel:"noopener noreferrer"}},[a._v("Spark license"),s("OutboundLink")],1),a._v(". You can purchase a Spark license via the Spark dashboard.")])]),a._v(" "),s("p",[a._v("To get started installing Spark, add the Spark repository to your application's "),s("code",[a._v("composer.json")]),a._v(" file:")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"repositories"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"composer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://spark.laravel.com"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n")])])]),s("p",[a._v("Next, you may add the "),s("code",[a._v("laravel/spark-paddle")]),a._v(" or "),s("code",[a._v("laravel/spark-stripe")]),a._v(" package to the list of required packages in your "),s("code",[a._v("composer.json")]),a._v(" file:")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"require"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"php"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^8.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"laravel/framework"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^9.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"laravel/spark-paddle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^1.0"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n")])])]),s("p",[a._v("After your "),s("code",[a._v("composer.json")]),a._v(" file has been updated, run the "),s("code",[a._v("composer update")]),a._v(" command in your console terminal:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" update\n")])])]),s("p",[a._v("When running "),s("code",[a._v("composer update")]),a._v(", you will be prompted to provide your login credentials for the Spark website. These credentials will authenticate your Composer session as having permission to download the Spark source code. To avoid manually typing these credentials, you may create a "),s("a",{attrs:{href:"https://getcomposer.org/doc/articles/http-basic-authentication.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("Composer auth.json file"),s("OutboundLink")],1),a._v(" and use your "),s("a",{attrs:{href:"https://spark.laravel.com/user/api-tokens",target:"_blank",rel:"noopener noreferrer"}},[a._v("API token"),s("OutboundLink")],1),a._v(" in place of your password:")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"http-basic"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"spark.laravel.com"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"username"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"taylor@example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"your-api-token"')]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("You may quickly create an "),s("code",[a._v("auth.json")]),a._v(" file via your terminal using the following command. As mentioned previously, you may create an API token via the "),s("a",{attrs:{href:"https://spark.laravel.com/user/api-tokens",target:"_blank",rel:"noopener noreferrer"}},[a._v("Spark dashboard"),s("OutboundLink")],1),a._v(". This token may be used as a substitute for your password when creating a Composer "),s("code",[a._v("auth.json")]),a._v(" file:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" config http-basic.spark.laravel.com taylor@example.com your-api-token\n")])])]),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[a._v("The `auth.json` File")]),a._v(" "),s("p",[a._v("You should not commit your application's "),s("code",[a._v("auth.json")]),a._v(" file into source control.")])]),a._v(" "),s("p",[a._v("Once the package is installed via Composer, run the "),s("code",[a._v("spark:install")]),a._v(" Artisan command:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("php artisan spark:install\n")])])]),s("p",[a._v("Finally, run the "),s("code",[a._v("migrate")]),a._v(" Artisan command:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("php artisan migrate\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("Stripe Billables")]),a._v(" "),s("p",[a._v("If you are using the Stripe edition of Spark and plan to bill a model other than the "),s("code",[a._v("App\\Models\\User")]),a._v(" model, you should follow "),s("RouterLink",{attrs:{to:"/2.x/spark-stripe/customization.html#migrations"}},[a._v("these instructions")]),a._v(" before running the migration command.")],1)]),a._v(" "),s("p",[a._v("That's it! Next, you may navigate to your application's "),s("code",[a._v("config/spark.php")]),a._v(" configuration file and begin configuring your Spark installation.")]),a._v(" "),s("h2",{attrs:{id:"authenticating-spark-in-continuous-integration-ci-environments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authenticating-spark-in-continuous-integration-ci-environments"}},[a._v("#")]),a._v(" Authenticating Spark in Continuous Integration (CI) Environments")]),a._v(" "),s("p",[a._v("It's not advised to store your "),s("code",[a._v("auth.json")]),a._v(" file inside your project's version control repository. However, there may be times you wish to download Spark inside a CI environment like "),s("a",{attrs:{href:"https://chipperci.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Chipper CI"),s("OutboundLink")],1),a._v(". For instance, you may wish to run tests for any custom tools you create. To authenticate Spark in these situations, you can use Composer to set the configuration option inside your CI system's pipeline, injecting environment variables containing the credentials you use to login to the Spark dashboard and a valid "),s("a",{attrs:{href:"https://spark.laravel.com/users/api-tokens",target:"_blank",rel:"noopener noreferrer"}},[a._v("Spark dashboard API token"),s("OutboundLink")],1),a._v(":")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" config http-basic.spark.laravel.com "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SPARK_USERNAME}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${SPARK_API_TOKEN}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);