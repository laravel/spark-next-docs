(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{386:function(e,s,t){"use strict";t.r(s);var a=t(40),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"events"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[e._v("#")]),e._v(" Events")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#spark-events-subscriptioncreated"}},[e._v("Spark\\Events\\SubscriptionCreated")])]),t("li",[t("a",{attrs:{href:"#spark-events-subscriptionupdated"}},[e._v("Spark\\Events\\SubscriptionUpdated")])]),t("li",[t("a",{attrs:{href:"#spark-events-subscriptioncancelled"}},[e._v("Spark\\Events\\SubscriptionCancelled")])]),t("li",[t("a",{attrs:{href:"#spark-events-paymentsucceeded"}},[e._v("Spark\\Events\\PaymentSucceeded")]),t("ul",[t("li",[t("a",{attrs:{href:"#grace-periods"}},[e._v("Grace Periods")])])])])])]),t("p"),e._v(" "),t("p",[e._v("Spark dispatches several "),t("a",{attrs:{href:"https://laravel.com/docs/events",target:"_blank",rel:"noopener noreferrer"}},[e._v("events"),t("OutboundLink")],1),e._v(" that you may intercept and handle based on your application's needs. We will describe each of these events below.")]),e._v(" "),t("h2",{attrs:{id:"spark-events-subscriptioncreated"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark-events-subscriptioncreated"}},[e._v("#")]),e._v(" "),t("code",[e._v("Spark\\Events\\SubscriptionCreated")])]),e._v(" "),t("p",[e._v("This event is dispatched when a subscription is created with a status of "),t("code",[e._v("trialing")]),e._v(" or "),t("code",[e._v("active")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"spark-events-subscriptionupdated"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark-events-subscriptionupdated"}},[e._v("#")]),e._v(" "),t("code",[e._v("Spark\\Events\\SubscriptionUpdated")])]),e._v(" "),t("p",[e._v("This event is dispatched when a subscription is changed. Possible changes include plan changes, quantity changes, pausing a subscription, or resuming a subscription.")]),e._v(" "),t("h2",{attrs:{id:"spark-events-subscriptioncancelled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark-events-subscriptioncancelled"}},[e._v("#")]),e._v(" "),t("code",[e._v("Spark\\Events\\SubscriptionCancelled")])]),e._v(" "),t("p",[e._v('This event is dispatched when a subscription expires. This happens when a paused or cancelled subscription is no longer within its cancellation "grace period".')]),e._v(" "),t("h2",{attrs:{id:"spark-events-paymentsucceeded"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark-events-paymentsucceeded"}},[e._v("#")]),e._v(" "),t("code",[e._v("Spark\\Events\\PaymentSucceeded")])]),e._v(" "),t("p",[e._v("This event is dispatched when a new Stripe invoice is created.")]),e._v(" "),t("h3",{attrs:{id:"grace-periods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grace-periods"}},[e._v("#")]),e._v(" Grace Periods")]),e._v(" "),t("p",[e._v("When a subscription is cancelled, Cashier will automatically set the subscription's "),t("code",[e._v("ends_at")]),e._v(" column in your database. This column is used to know when the billable's "),t("code",[e._v("subscribed")]),e._v(" method should begin returning "),t("code",[e._v("false")]),e._v(". For example, if a customer cancels a subscription on March 1st, but the subscription was not scheduled to end until March 5th, the "),t("code",[e._v("subscribed")]),e._v(" method will continue to return "),t("code",[e._v("true")]),e._v(" until March 5th. This is done because a user is typically allowed to continue using an application until the end of their billing cycle.")])])}),[],!1,null,null,null);s.default=r.exports}}]);